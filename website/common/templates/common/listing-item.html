{% load wagtailcore_tags cache util_tags %}

{% cache FRAGMENT_CACHE_TTL|jitter:FRAGMENT_CACHE_TTL_JITTER "listing-item" page.id request.is_preview %}
  <article class="media listing-item">
    <div class="columns">
      <figure class="media-left column is-3 image-column">
        {% if page.list_image_url %}
          <a href="{% pageurl page %}" class="image" title="{{ page.title }}">
            <img src="{{ page.list_image_url }}" alt="" loading="lazy" decoding="async" />
          </a>
        {% endif %}
      </figure>
      <div class="media-content column">
        <div>
          <h2 class="title is-3">
            <a href="{% pageurl page %}">{{ page.title }}</a>
          </h2>
          {% include "common/content-details.html" %}
          <p>{{ page.summary }}</p>
        </div>
      </div>
    </div>
  </article>
{% endcache %}
